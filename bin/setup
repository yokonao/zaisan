#!/bin/bash

set -euo pipefail

# === Install Runtime ===
# Ruby 等のランタイムをインストールします。
# 利便性のために mise の利用を推奨していますが、Gemfile に指定されているバージョンの Ruby を手動でインストールすることも可能です。
# その場合は以下のコマンドは実行する必要はありません。
mise install

# === Install Dependencies ===
# 依存している Gem をインストールします
bundle install

# === Setup Database ===
# データベースを作成し、マイグレーションを実行します
# 初回実行後はスキーマが更新されるたびに `db:migrate` のみを実行してください
bin/rails db:setup db:migrate
